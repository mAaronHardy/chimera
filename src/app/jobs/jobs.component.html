<h1 class="txt-center">Jobs</h1>
<div class="tile-group container-lg">
    <ng-container *ngFor="let job of jobs; let i = index">
        <button class="tile-button" [ngClass]="show[i] ? 'active' : ''" (click)="toggle(i)">
            <img src="assets/images/{{job.name}}.png">
        </button>
        <div class="tile-content" [ngClass]="show[i] ? 'active' : ''">
            <div class="content">
                <h2>{{job.name}}</h2>
                <p>{{job.desc}}</p>

                <p>
                    <span *ngIf="job.mv">Mv: <strong><span *ngIf="job.mv > -1">+</span>{{job.mv}} </strong></span>
                    <span *ngIf="job.jm">Jm: <strong><span *ngIf="job.jm > -1">+</span>{{job.jm}} </strong></span>
                    <span *ngIf="job.str">Str: <strong><span *ngIf="job.str > -1">+</span>{{job.str}} </strong></span>
                    <span *ngIf="job.int">Int: <strong><span *ngIf="job.int > -1">+</span>{{job.int}} </strong></span>
                    <span *ngIf="job.end">End: <strong><span *ngIf="job.end > -1">+</span>{{job.end}} </strong></span>
                    <span *ngIf="job.wil">Wil: <strong><span *ngIf="job.wil > -1">+</span>{{job.wil}} </strong></span>
                    <span *ngIf="job.dex">Dex: <strong><span *ngIf="job.dex > -1">+</span>{{job.dex}} </strong></span>
                    <span *ngIf="job.agi">Agi: <strong><span *ngIf="job.agi > -1">+</span>{{job.agi}} </strong></span>
                </p>

                <p>Equip: <span *ngFor="let equ of job.equip; let i = index;"><span *ngIf="i > 0 && equ != ''">, </span><strong>{{equ}}</strong></span></p>
                <p *ngIf="job.init[0] != ''">Tech: <span *ngFor="let ini of job.init; let i = index;"><span *ngIf="i > 0 && ini != ''">, </span><strong>{{ini}}</strong></span></p>

                <h3>{{job.act}}</h3>
                <div class="table-dark">
                    <tech-table [tech]="getAction(job.name)" cat="Action" *ngIf="getAction(job.name).length > 0"></tech-table>
                    <tech-table [tech]="getReaction(job.name)" cat="Reaction" *ngIf="getReaction(job.name).length > 0"></tech-table>
                    <tech-table [tech]="getPassive(job.name)" cat="Passive" *ngIf="getPassive(job.name).length > 0"></tech-table>
                    <tech-table [tech]="getMovement(job.name)" cat="Movement" *ngIf="getMovement(job.name).length > 0"></tech-table>
                </div>

                <div class="action-details" *ngFor="let tec of getAction(job.name)">
                    <h3 id="{{tec.name}}" class="action-name">{{tec.name}}</h3>
                    <div class="top-corner">
                        <strong>Action</strong>
                        <p class="txt-right">{{tec.cost}} JP</p>
                    </div>
                    <p>{{tec.desc}}</p>
                    <tech-action [tec]="tec"></tech-action>
                    <tech-tags [tags]="tec.tags" *ngIf="tec.tags[0] != ''"></tech-tags>
                </div>
                <div class="action-details" *ngFor="let tec of getReaction(job.name)">
                    <h3 id="{{tec.name}}" class="action-name">{{tec.name}}</h3>
                    <div class="top-corner">
                        <strong>Reaction</strong>
                        <p class="txt-right">{{tec.cost}} JP</p>
                    </div>
                    <p>{{tec.desc}}</p>
                    <p>Trigger: {{tec.trigger}}</p>
                    <p>{{tec.effect}}</p>
                </div>
                <div class="action-details" *ngFor="let tec of getPassive(job.name)">
                    <h3 id="{{tec.name}}" class="action-name">{{tec.name}}</h3>
                    <div class="top-corner">
                        <strong>Passive</strong>
                        <p class="txt-right">{{tec.cost}} JP</p>
                    </div>
                    <p>{{tec.desc}}</p>
                    <p>{{tec.effect}}</p>
                </div>
                <div class="action-details" *ngFor="let tec of getMovement(job.name)">
                    <h3 id="{{tec.name}}" class="action-name">{{tec.name}}</h3>
                    <div class="top-corner">
                        <strong>Movement</strong>
                        <p class="txt-right">{{tec.cost}} JP</p>
                    </div>
                    <p>{{tec.desc}}</p>
                    <p>{{tec.effect}}</p>
                </div>
            </div>
        </div>
    </ng-container>
</div>
